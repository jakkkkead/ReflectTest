<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.web.dao.GoodDao">
    <resultMap id="baseGoodMap" type="com.web.bean.Good">
        <result column="good_name" property="goodName"></result>
        <result column="good_id" property="goodId"></result>
        <result column="good_type" property="goodType"></result>
        <result column="good_sale" property="goodSale"></result>
        <result column="good_mark" property="goodMark"></result>
        <result column="create_time" property="createTime"></result>
    </resultMap>
    <select id="getVersion" resultType="java.lang.Integer">
       select version from t_tenant_businesstime_map
        where id = #{id}
    </select>
    <insert id="add" parameterType="com.web.bean.Good">
        insert into t_good (good_name,good_type,good_sale,good_mark,good_tenant_id,create_time)
        values (#{goodName},#{goodType},#{goodSale},#{goodMark},#{goodTenantId},#{createTime})
    </insert>
    <select id="listGood" parameterType="com.web.bean.PageInfo" resultMap="baseGoodMap">
        select good_name,good_id,good_type,good_sale,good_mark,create_time from t_good limit ${pageNumber},${pageSize}
    </select>
    <select id="getTotal" resultType="java.lang.Integer">
        select count(*) from t_good
    </select>
    <select id="getDataByDate" resultType="java.util.HashMap">
        select g.good_name,g.good_id,g.good_type,g.good_sale,g.good_mark,
        DATE_FORMAT(g.create_time,'%Y-%m-%d') create_time,g.img_url,g.remark,t.type_name,t.detail_type,t.detail_name from t_good g left join
        t_good_type t on g.good_type = t.good_type and g.detail_type = t.detail_type
        where
        g.create_time &gt; #{start} and g.create_time &lt; #{end}
    </select>
    <insert id="batchInsert">
        replace into t_good (good_id,good_name,good_type,good_sale,good_mark,good_tenant_id,
        create_time,remark,img_url,detail_type)
        values
        <foreach collection="list" item="good" separator=",">
            (#{good.goodId},#{good.goodName},#{good.goodType},#{good.goodSale},#{good.goodMark},#{good.goodTenantId},
            #{good.createTime},#{good.remark},#{good.imgUrl},#{good.detailType})
        </foreach>
    </insert>
    <select id="getTypeList" resultType="java.util.Map">
        select good_type,detail_type,detail_name from t_good_type
    </select>
</mapper>